---
title: "Taskflow — App de Gestão de Tarefas com Kanban"
publishedAt: "2024-06-20"
summary: "Aplicação web de gerenciamento de projetos com quadro Kanban drag-and-drop, colaboração em tempo real via WebSockets, construída com Next.js 14, Supabase e DnD Kit."
tag: "Frontend"
images:
  - "/images/projects/project-01/cover-03.jpg"
  - "/images/projects/project-01/cover-04.jpg"
team:
  - name: "Daniel Scremim"
    role: "Full Stack Developer"
    avatar: "/images/avatar.jpg"
    linkedIn: "https://www.linkedin.com/in/danielscremim/"
link: "https://github.com/danielscremim/taskflow-kanban"
---

## Visão Geral

**Taskflow** é uma aplicação de gestão de tarefas inspirada no Trello e Linear, focada em equipes pequenas e desenvolvedores independentes. Com uma interface limpa e intuitiva, permite organizar projetos em quadros Kanban com colunas personalizáveis e colaboração em tempo real.

O objetivo foi criar uma alternativa auto-hospedável às ferramentas SaaS caras, com todas as funcionalidades essenciais de gestão de projetos, sem necessidade de assinatura mensalistas.

## Funcionalidades Principais

- **Quadros Kanban**: Colunas e cartões reordenáveis com drag-and-drop fluido (mouse e touch)
- **Colaboração Real-time**: Atualizações instantâneas entre usuários via WebSockets (Supabase Realtime)
- **Cartões Ricos**: Título, descrição Markdown, etiquetas coloridas, datas de prazo, checklist e anexos
- **Comentários**: Thread de comentários por cartão com menções (@usuário) e notificações
- **Membros e Workspaces**: Convite por e-mail, perfis de membro e múltiplos workspaces por conta
- **Filtros Avançados**: Filtrar por membro responsável, etiqueta, prazo e prioridade
- **Histórico de Atividade**: Log completo de alterações em cada cartão e quadro
- **Autenticação**: Github OAuth e magic link por e-mail via Supabase Auth
- **PWA**: Instalável como aplicativo no desktop e mobile com suporte offline básico

## Tecnologias Utilizadas

- **Next.js 14** com App Router e Server Components para carregamento otimizado
- **TypeScript** com schemas Zod sincronizados entre cliente e servidor
- **Supabase** como backend-as-a-service (PostgreSQL, Auth, Storage, Realtime)
- **DnD Kit** para drag-and-drop acessível e performático com suporte a touchscreen
- **Zustand** para estado local do quadro (posições, seleções ativas)
- **TipTap** para editor de descrição rich text com suporte a Markdown
- **TailwindCSS** + **Radix UI** para componentes acessíveis
- **date-fns** para manipulação e formatação de datas
- **Vercel** para deploy com preview automático por PR

## Arquitetura e Banco de Dados

O banco de dados no Supabase utiliza **Row Level Security (RLS)** para garantir que usuários acessem apenas seus próprios workspaces e projetos, sem nenhuma lógica de autorização no servidor de aplicação.

```sql
-- Exemplo de política RLS para cartões
CREATE POLICY "Members can view cards in their boards"
  ON cards FOR SELECT
  USING (
    board_id IN (
      SELECT board_id FROM board_members
      WHERE user_id = auth.uid()
    )
  );
```

O drag-and-drop usa a estratégia de **ordem fracionária** (fractional indexing) para reordenar cartões sem reescrever todos os índices da coluna — mesmo após milhares de reordenações, nunca há colisão de posições.

## Desafios e Aprendizados

O maior desafio técnico foi sincronizar o estado local otimístico (para DX fluido) com as atualizações em tempo real de outros usuários. A solução foi uma camada de reconciliação que descarta atualizações locais quando chega uma confirmação do servidor, seguindo o modelo **CRDT simplificado**.

Outro desafio foi a performance do Realtime com muitos usuários simultâneos. Implementei debounce nas emissões de posição de drag e filtragem de eventos por `board_id` para reduzir o tráfego de WebSocket em 70%.

## Resultados

- Drag-and-drop com latência média de **< 16ms** (60fps garantido)
- Sincronização em tempo real em **< 200ms** de ponta a ponta
- Funciona em dispositivos móveis com touch, validado em iOS Safari e Android Chrome
- Deploy em Vercel com **99.9% de uptime** no primeiro mês de uso
